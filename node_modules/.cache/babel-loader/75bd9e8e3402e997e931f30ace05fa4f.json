{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\narek\\\\Desktop\\\\alo\\\\myJS\\\\crypto2\\\\src\\\\components\\\\List\\\\List.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { API_URL } from '../../configs';\nimport { query } from \"../../core/helpers/query\";\nimport Loading from \"../common/Loading\";\nimport Pagination from \"./Pagination\";\nimport Table from \"./Table\";\nimport './Table.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst List = () => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [currencies, setCurrencies] = useState([]);\n  const [error, setError] = useState(null);\n  const totalPages = 5;\n  const location = useLocation();\n  let {\n    page\n  } = query(location.search);\n  const navigate = useNavigate();\n  useLayoutEffect(() => {\n    if (!page) {\n      navigate({\n        pathname: '/',\n        search: `?page=1`\n      });\n    }\n\n    fetchCurrency(page || 1);\n  }, [page]);\n\n  const fetchCurrency = page => {\n    setIsLoading(true);\n    fetch(`${API_URL}&page=${page || 1}&per_page=20`).then(data => {\n      if (data.status === 200) {\n        return data.json();\n      }\n\n      throw Error();\n    }).then(currencies => {\n      setCurrencies(currencies);\n      setIsLoading(false);\n    }).catch(error => {\n      setError(error);\n      setIsLoading(false);\n    });\n  };\n\n  const handleChangePagination = direction => {\n    let nextPage = direction === 'next' ? +page + 1 : +page - 1;\n    navigate({\n      pathname: '/',\n      search: `?page=${nextPage}`\n    });\n  };\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 20\n    }, this);\n  }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 20\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      currencies: currencies\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      page: +page || 1,\n      totalPages: totalPages,\n      handleChangePagination: handleChangePagination\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(List, \"2JgwhmfQtWCLyJX9JPBjlBFKpq4=\", false, function () {\n  return [useLocation, useNavigate];\n});\n\n_c = List;\nexport default List;\n\nvar _c;\n\n$RefreshReg$(_c, \"List\");","map":{"version":3,"sources":["C:/Users/narek/Desktop/alo/myJS/crypto2/src/components/List/List.js"],"names":["React","useEffect","useLayoutEffect","useState","useLocation","useNavigate","API_URL","query","Loading","Pagination","Table","List","isLoading","setIsLoading","currencies","setCurrencies","error","setError","totalPages","location","page","search","navigate","pathname","fetchCurrency","fetch","then","data","status","json","Error","catch","handleChangePagination","direction","nextPage"],"mappings":"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","sourcesContent":["import React, { useEffect,useLayoutEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { API_URL } from '../../configs'\r\nimport { query } from \"../../core/helpers/query\";\r\nimport Loading from \"../common/Loading\";\r\nimport Pagination from \"./Pagination\";\r\nimport Table from \"./Table\";\r\nimport './Table.css'\r\n\r\nconst List = () =>{\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [currencies, setCurrencies] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    const totalPages = 5;\r\n    const location = useLocation();\r\n    let {page} = query(location.search);\r\n\r\n    const navigate = useNavigate()\r\n\r\n   useLayoutEffect(()=>{\r\n        if(!page){  \r\n            navigate({\r\n                pathname: '/',\r\n                search: `?page=1`,\r\n              })    \r\n        }\r\n       fetchCurrency(page || 1)\r\n    },[page])\r\n\r\n\r\n   const fetchCurrency = (page) =>{\r\n        setIsLoading(true)\r\n        fetch(`${API_URL}&page=${page || 1}&per_page=20`)\r\n            .then(data => {\r\n                if (data.status === 200) {\r\n                    return data.json()\r\n                }\r\n                throw Error()\r\n            })\r\n            .then((currencies) => {\r\n                setCurrencies(currencies);\r\n                setIsLoading(false)\r\n            })\r\n            .catch((error) => {\r\n                setError(error);\r\n                setIsLoading(false)\r\n            })\r\n    }\r\n    \r\n    const  handleChangePagination = (direction)=>{\r\n       let nextPage = direction === 'next' ? +page + 1 : +page - 1\r\n        navigate({\r\n            pathname: '/',\r\n            search: `?page=${nextPage}`,\r\n          })\r\n    }\r\n\r\n\r\n        if (error) { \r\n            return <div>Error</div>\r\n        }\r\n        if (isLoading) {\r\n            return <div className=\"loading-container\">\r\n                <Loading />\r\n            </div>\r\n        }\r\n        return (\r\n            <>\r\n            <Table currencies={currencies}/>\r\n            <Pagination \r\n            page={+page || 1} \r\n            totalPages={totalPages}\r\n            handleChangePagination={handleChangePagination}\r\n            />\r\n            </>\r\n            )\r\n}\r\nexport default List"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\narek\\\\Desktop\\\\alo\\\\myJS\\\\crypto2\\\\src\\\\components\\\\charter\\\\Charter.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Charter = _ref => {\n  _s();\n\n  let {\n    handleIsShowCharter\n  } = _ref;\n  const [charterInfo, setCharterInfo] = useState({});\n  const charterRef = useRef();\n  const params = useParams();\n\n  const outsideClick = e => {\n    if (!charterRef.current.contains(e.target)) {\n      handleIsShowCharter(e, false);\n    }\n  };\n\n  useEffect(() => {\n    (async () => {\n      const response = await fetch(`https://api.coingecko.com/api/v3/coins/${params.id}/market_chart?vs_currency=usd&days=3`);\n      const result = await response.json();\n      setCharterInfo(result);\n    })();\n\n    document.addEventListener('click', outsideClick);\n    return () => {\n      document.removeEventListener('click', outsideClick);\n    };\n  }, []);\n  useEffect(() => {\n    return () => {};\n  }, []);\n  const options = useMemo(() => {\n    const {\n      prices\n    } = charterInfo;\n\n    if (!prices) {\n      return null;\n    }\n\n    const priceModel = prices.map(item => item[1]);\n    return {\n      series: [{\n        name: 'Price',\n        data: priceModel\n      }]\n    };\n  }, [charterInfo]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: charterRef,\n    children: options && /*#__PURE__*/_jsxDEV(HighchartsReact, {\n      highcharts: Highcharts,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Charter, \"K1OtXgVMWpvsY+5gaQ+LoTiMPf4=\", false, function () {\n  return [useParams];\n});\n\n_c = Charter;\nexport default Charter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Charter\");","map":{"version":3,"sources":["C:/Users/narek/Desktop/alo/myJS/crypto2/src/components/charter/Charter.js"],"names":["React","useEffect","useMemo","useRef","useState","Highcharts","HighchartsReact","useParams","Charter","handleIsShowCharter","charterInfo","setCharterInfo","charterRef","params","outsideClick","e","current","contains","target","response","fetch","id","result","json","document","addEventListener","removeEventListener","options","prices","priceModel","map","item","series","name","data"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4CC,QAA5C,QAA4D,OAA5D;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AACA,SAASC,SAAT,QAA0B,kBAA1B;;;AAGA,MAAMC,OAAO,GAAG,QAA0B;AAAA;;AAAA,MAAzB;AAACC,IAAAA;AAAD,GAAyB;AACtC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAMQ,UAAU,GAAGT,MAAM,EAAzB;AACA,QAAMU,MAAM,GAAGN,SAAS,EAAxB;;AAED,QAAMO,YAAY,GAAEC,CAAD,IAAK;AACnB,QAAG,CAACH,UAAU,CAACI,OAAX,CAAmBC,QAAnB,CAA4BF,CAAC,CAACG,MAA9B,CAAJ,EAA0C;AACtCT,MAAAA,mBAAmB,CAACM,CAAD,EAAG,KAAH,CAAnB;AACH;AACJ,GAJF;;AAMCd,EAAAA,SAAS,CAAC,MAAI;AACV,KAAC,YAAS;AACV,YAAMkB,QAAQ,GAAG,MAAMC,KAAK,CAAE,0CAAyCP,MAAM,CAACQ,EAAG,sCAArD,CAA5B;AACA,YAAMC,MAAM,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAArB;AACAZ,MAAAA,cAAc,CAACW,MAAD,CAAd;AACC,KAJD;;AAKAE,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAkCX,YAAlC;AACA,WAAO,MAAK;AACRU,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,EAAqCZ,YAArC;AACH,KAFD;AAGH,GAVQ,EAUP,EAVO,CAAT;AAYAb,EAAAA,SAAS,CAAC,MAAI;AACN,WAAO,MAAI,CAEV,CAFD;AAGP,GAJQ,EAIP,EAJO,CAAT;AAMA,QAAM0B,OAAO,GAAGzB,OAAO,CAAC,MAAI;AACxB,UAAM;AAAE0B,MAAAA;AAAF,QAAalB,WAAnB;;AACA,QAAG,CAACkB,MAAJ,EAAW;AACP,aAAO,IAAP;AACH;;AACD,UAAMC,UAAU,GAAGD,MAAM,CAACE,GAAP,CAAWC,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAvB,CAAnB;AACA,WAAQ;AACQC,MAAAA,MAAM,EAAE,CAAE;AAACC,QAAAA,IAAI,EAAC,OAAN;AAAcC,QAAAA,IAAI,EAACL;AAAnB,OAAF;AADhB,KAAR;AAGH,GATsB,EASrB,CAACnB,WAAD,CATqB,CAAvB;AAYI,sBACI;AAAK,IAAA,GAAG,EAAEE,UAAV;AAAA,cACKe,OAAO,iBAAI,QAAC,eAAD;AAAiB,MAAA,UAAU,EAAEtB,UAA7B;AAAyC,MAAA,OAAO,EAAEsB;AAAlD;AAAA;AAAA;AAAA;AAAA;AADhB;AAAA;AAAA;AAAA;AAAA,UADJ;AAKP,CA9CD;;GAAMnB,O;UAGaD,S;;;KAHbC,O;AA+CN,eAAeA,OAAf","sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\"\r\nimport Highcharts from \"highcharts\";\r\nimport HighchartsReact from \"highcharts-react-official\";\r\nimport { useParams } from \"react-router-dom\"\r\n\r\n\r\nconst Charter = ({handleIsShowCharter}) =>{\r\n    const [charterInfo, setCharterInfo] = useState({});\r\n    const charterRef = useRef();\r\n    const params = useParams()\r\n\r\n   const outsideClick=(e)=>{\r\n        if(!charterRef.current.contains(e.target)){\r\n            handleIsShowCharter(e,false)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        (async()=>{\r\n        const response = await fetch(`https://api.coingecko.com/api/v3/coins/${params.id}/market_chart?vs_currency=usd&days=3`)\r\n        const result = await response.json();\r\n        setCharterInfo(result)\r\n        })()\r\n        document.addEventListener('click',outsideClick) \r\n        return () =>{\r\n            document.removeEventListener('click',outsideClick)\r\n        }\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n            return ()=>{\r\n\r\n            }\r\n    },[])\r\n\r\n    const options = useMemo(()=>{\r\n        const { prices } = charterInfo\r\n        if(!prices){\r\n            return null\r\n        }\r\n        const priceModel = prices.map(item => item[1]);\r\n        return  { \r\n                        series: [ {name:'Price',data:priceModel }]\r\n                } \r\n    },[charterInfo])\r\n    \r\n\r\n        return(\r\n            <div ref={charterRef}>\r\n                {options && <HighchartsReact highcharts={Highcharts} options={options}/>}\r\n            </div>\r\n        )\r\n}\r\nexport default Charter"]},"metadata":{},"sourceType":"module"}